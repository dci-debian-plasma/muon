From 558b76a4a8b47f9b78c03798aa7453028c77e4bf Mon Sep 17 00:00:00 2001
From: Aleix Pol <aleixpol@kde.org>
Date: Tue, 31 Mar 2015 14:27:58 +0200
Subject: [PATCH] Make sure the proper xmlgui file is loaded

Install it over at the correct directory
Change the component name to "muon"

BUG: 345683
---
 muon/CMakeLists.txt | 2 +-
 muon/main.cpp       | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/muon/CMakeLists.txt b/muon/CMakeLists.txt
index a63af8a..dbdb96a 100644
--- a/muon/CMakeLists.txt
+++ b/muon/CMakeLists.txt
@@ -51,4 +51,4 @@ install(TARGETS muon ${INSTALL_TARGETS_DEFAULT_ARGS} )
 ########### install files ###############
 
 install( PROGRAMS muon.desktop  DESTINATION ${XDG_APPS_INSTALL_DIR} )
-install( FILES muonui.rc  DESTINATION  ${DATA_INSTALL_DIR}/muon )
+install( FILES muonui.rc  DESTINATION  ${KXMLGUI_INSTALL_DIR}/muon )
diff --git a/muon/main.cpp b/muon/main.cpp
index 14cd104..ef46cab 100644
--- a/muon/main.cpp
+++ b/muon/main.cpp
@@ -32,7 +32,7 @@ int main(int argc, char **argv)
 {
     QApplication app(argc, argv);
     app.setWindowIcon(QIcon::fromTheme("muon"));
-    KAboutData about("muondiscover", i18n("Muon Package Manager"), version, i18n("A package manager"),
+    KAboutData about("muon", i18n("Muon Package Manager"), version, i18n("A package manager"),
                      KAboutLicense::GPL, i18n("Â© 2009-2013 Jonathan Thomas"));
     about.addAuthor(i18n("Jonathan Thomas"), QString(), "echidnaman@kubuntu.org");
     about.setProductName("muon/muon");
-- 
2.1.4

